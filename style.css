/* ================================
   BASE · TOKENS
=================================== */
:root{
  color-scheme: light dark;

  /* Colores (light) */
  --color-primario:#80140D;
  --color-secundario:#F5F5F5;
  --color-acento:#C62828;
  --color-acento-hover:#9E1B1B;
  --color-boton:#EE1C25;
  --color-boton-hover:#CC1A20;
  --color-texto:#1A202C;
  --color-fondo:#FFFFFF;

  /* Superficies */
  --surface-1:#FFFFFF;
  --surface-2:#F7F9FC;
  --surface-3:#E8E8E8;
  --muted-1:#333;

  /* Escala y ritmo */
  --maxw:1200px;
  --r:12px;
  --t:.22s;
  --shadow-sm:0 2px 6px rgba(0,0,0,.08);
  --shadow-md:0 8px 20px rgba(0,0,0,.12);

  /* Tipos */
  --font-1:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  --font-2:'Roboto',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;

  /* Accesibilidad */
  --focus: 3px solid color-mix(in oklab, var(--color-acento) 70%, #fff);
}

/* Dark mode */
@media (prefers-color-scheme: dark){
  :root{
    --color-texto:#EDEFF3;
    --color-fondo:#0f0f10;
    --surface-1:#151517;
    --surface-2:#111113;
    --surface-3:#2a2a2d;
    --muted-1:#c9c9ce;
    --shadow-sm:0 2px 6px rgba(0,0,0,.35);
    --shadow-md:0 14px 28px rgba(0,0,0,.5);
  }
}

/* ================================
   RESET & ACCESIBILIDAD
=================================== */
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
  font-family:var(--font-1);
  background:linear-gradient(135deg,var(--surface-1),var(--surface-2));
  color:var(--color-texto);
  line-height:1.6;
  -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
}
img{display:block;max-width:100%;height:auto}
a{color:var(--color-acento);text-decoration:none;transition:color var(--t)}
a:hover{color:var(--color-acento-hover)}
:focus{outline:none}
:focus-visible{outline:var(--focus);outline-offset:3px;border-radius:8px}
.visually-hidden{
  position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0;
}
.container{max-width:var(--maxw);margin:0 auto;padding-inline:20px}

/* Tipografía */
h1,h2,h3,h4,h5,h6{
  font-family:var(--font-2);color:var(--color-primario);letter-spacing:.2px;text-shadow:none;
}
@media (prefers-color-scheme: dark){
  h1,h2,h3,h4,h5,h6{color:color-mix(in oklab, var(--color-primario) 85%, #fff)}
}
h1{font-size:clamp(2rem,3vw,3.2rem);line-height:1.2}
h2{font-size:clamp(1.6rem,2.5vw,2.4rem);line-height:1.25;margin-bottom:.6rem}
h3{font-size:clamp(1.25rem,1.8vw,1.6rem);line-height:1.3}
p{margin:0 0 1rem;font-size:1.05rem}

/* ================================
   HEADER / NAV
=================================== */
header{
  position:sticky;top:0;z-index:1000;
  background:linear-gradient(135deg,var(--color-primario),var(--color-acento));
  box-shadow:var(--shadow-sm);
}
nav{display:flex;justify-content:space-between;align-items:center;height:70px}
nav .logo a{display:flex;align-items:center;font-size:1.35rem;font-weight:700;color:var(--color-secundario)}
nav .logo a i{margin-right:10px;color:var(--color-secundario)}
.nav-links{display:flex;list-style:none}
.nav-links li{margin-left:28px}
.nav-links a{color:var(--color-secundario);padding:6px 0;position:relative}
.nav-links a::after{
  content:"";position:absolute;left:0;bottom:-6px;height:2px;width:0;background:var(--color-secundario);transition:width var(--t)
}
.nav-links a:hover::after,.nav-links a.active::after{width:100%}

/* Burger accesible */
.burger{display:none}
.burger button{
  appearance:none;background:transparent;border:0;cursor:pointer;display:grid;gap:5px;padding:8px;border-radius:8px
}
.burger button:focus-visible{outline:3px solid var(--color-secundario);outline-offset:2px}
.burger .bar{width:26px;height:3px;background:var(--color-secundario);transition:transform var(--t),opacity var(--t)}
.burger button[aria-expanded="true"] .bar:nth-child(1){transform:translateY(8px) rotate(-45deg)}
.burger button[aria-expanded="true"] .bar:nth-child(2){opacity:0}
.burger button[aria-expanded="true"] .bar:nth-child(3){transform:translateY(-8px) rotate(45deg)}

@media (max-width: 820px){
  .nav-links{
    position:fixed;inset:70px 0 0 auto;width:min(320px,85vw);right:-100%;
    background:linear-gradient(135deg,var(--color-primario),var(--color-acento));
    flex-direction:column;align-items:start;padding:18px 22px;
    transition:right var(--t);box-shadow:var(--shadow-md)
  }
  .nav-links li{margin:6px 0}
  nav[data-open="true"] .nav-links{right:0}
  .burger{display:block}
}

/* ================================
   BARRA DE PROGRESO
=================================== */
#progressContainer{position:fixed;top:0;left:0;width:100%;height:4px;background:var(--surface-3);z-index:1200}
#progressBar{height:100%;width:0;background:var(--color-acento);transition:width var(--t)}

/* ================================
   SECCIONES
=================================== */
.section{padding:72px 0;text-align:center}
.section h2{position:relative;margin-bottom:8px}
.section h2::after{content:"";display:block;width:64px;height:4px;background:var(--color-acento);margin:12px auto 0;border-radius:2px}
.section p{max-width:820px;margin:0 auto 28px}

/* ================================
   HERO / portada rígida
=================================== */
.hero, .hero-rigido__content{
  display:grid;grid-template-columns:1.1fr .9fr;gap:40px;align-items:center;padding:84px 0
}
.hero .hero-text, .hero-rigido__text{text-align:left}
.hero .hero-text h1, .hero-rigido__text h1{margin-bottom:12px}
.hero .subtitle{font-size:1.1rem;color:var(--muted-1);margin-bottom:1rem}
.hero .hero-image img, .hero-rigido__photo img{
  width:100%;max-width:340px;border-radius:var(--r);box-shadow:var(--shadow-md);
  filter:brightness(.98);transition:transform var(--t),filter var(--t);margin-left:auto;margin-right:auto
}
.hero .hero-image img:hover, .hero-rigido__photo img:hover{transform:scale(1.02);filter:brightness(1)}
.hero .hero-text .btn, .hero-rigido__buttons .btn{margin-right:10px;margin-top:6px}

@media (max-width: 992px){
  .hero, .hero-rigido__content{grid-template-columns:1fr;text-align:center}
  .hero .hero-text, .hero-rigido__text{text-align:center}
}

/* ================================
   GRIDS / CARDS
=================================== */
.publications__grid,.publicaciones-grid,.talleres-grid,.repositorios-grid,
.courses-grid,.proyectos-grid,.features__grid,.conferencias-grid{
  display:grid;gap:28px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));margin-top:28px
}
.card, .publicacion-card, .publication-card, .course-card, .taller-card, .proyecto-card, .repositorio-card, .conferencia-card, .blog-card, .institution-card, .feature-item, .repository-card, .benefit-item{
  background:var(--surface-1);border-radius:var(--r);box-shadow:var(--shadow-sm);padding:22px;text-align:left;transition:transform var(--t),box-shadow var(--t),border-color var(--t);border:1px solid var(--surface-3)
}
.card:hover, .publicacion-card:hover, .publication-card:hover, .course-card:hover, .taller-card:hover, .proyecto-card:hover, .repositorio-card:hover, .conferencia-card:hover, .blog-card:hover, .institution-card:hover, .feature-item:hover, .repository-card:hover, .benefit-item:hover{
  transform:translateY(-4px);box-shadow:var(--shadow-md);border-color:color-mix(in oklab, var(--color-acento) 30%, var(--surface-3))
}
.publicacion-card h3,.publication-card h3,.proyecto-card h4,.course-card h4{color:var(--color-primario);margin-bottom:8px}

/* Iframes responsivos */
.embed{aspect-ratio:16/9;width:100%;border:0;border-radius:var(--r);box-shadow:var(--shadow-sm)}

/* ================================
   BOOK SECTION
=================================== */
.book-section{background:var(--surface-2);border-radius:var(--r);padding:32px 20px;box-shadow:var(--shadow-sm);margin-top:32px}
.book-content{display:flex;gap:26px;flex-wrap:wrap;justify-content:center;align-items:flex-start}
.book-cover{flex:0 0 200px;border:2px solid var(--color-acento);border-radius:var(--r);overflow:hidden;box-shadow:var(--shadow-sm);background:var(--surface-1)}
.book-info{flex:1;max-width:640px;text-align:left}
@media(max-width:768px){
  .book-content{flex-direction:column;align-items:center}
  .book-cover{flex:0 0 150px}
  .book-info{text-align:center}
}

/* ================================
   BOTONES
=================================== */
.btn{
  display:inline-flex;gap:8px;align-items:center;justify-content:center;
  padding:12px 22px;border-radius:12px;border:0;cursor:pointer;
  font-weight:700;background:var(--color-boton);color:#fff;
  box-shadow:var(--shadow-sm);transition:transform var(--t),background var(--t),box-shadow var(--t)
}
.btn:hover{background:var(--color-boton-hover);transform:translateY(-2px)}
.btn:active{transform:translateY(0)}
.btn:focus-visible{outline:3px solid #fff;outline-offset:2px;box-shadow:0 0 0 4px rgba(238,28,37,.35)}
.btn-secondary{background:var(--color-acento)}
.btn-secondary:hover{background:var(--color-acento-hover)}
.btn-outline{background:transparent;color:var(--color-acento);border:2px solid var(--color-acento)}
.btn-outline:hover{background:var(--color-acento);color:#fff}

/* ================================
   ICONOS / PERFILES
=================================== */
.profile-links{display:flex;justify-content:center;gap:18px;margin:0 0 18px}
.profile-links a{font-size:1.6rem;color:var(--color-primario);transition:transform var(--t),color var(--t)}
.profile-links a:hover{color:var(--color-acento);transform:scale(1.06)}
@media(max-width:768px){.profile-links{flex-direction:column;align-items:center}}

/* ================================
   BLOG
=================================== */
.blog-card{max-width:900px;margin:32px auto;background:var(--surface-1);border-radius:var(--r);box-shadow:var(--shadow-sm);padding:28px;border:1px solid var(--surface-3)}
.blog-content h2{text-align:center;font-size:2rem;margin-bottom:14px}
.blog-content h2::after{content:"";display:block;width:80px;height:4px;background:var(--color-acento);margin:10px auto 0}
.blog-content h3{font-size:1.4rem;margin:28px 0 12px}
.post-figure img{border-radius:var(--r);box-shadow:var(--shadow-sm)}
.post-figure figcaption{margin-top:8px;font-size:.95rem;color:var(--muted-1);font-style:italic}

/* ================================
   FOOTER
=================================== */
footer{
  background:linear-gradient(135deg,var(--color-primario),var(--color-acento));
  color:#fff;padding:36px 0;text-align:center;margin-top:40px;border-radius:12px 12px 0 0
}
footer .social-links{display:flex;justify-content:center;gap:18px;margin-bottom:14px}
footer .social-links a{font-size:1.4rem;color:#fff}
footer .social-links a:hover{transform:scale(1.06)}
footer p{font-size:.95rem}

/* ================================
   REDUCE MOTION
=================================== */
@media (prefers-reduced-motion: reduce){
  html:focus-within{scroll-behavior:auto}
  *,*::before,*::after{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}
}

/* ================================
   UTILIDADES
=================================== */
:root{accent-color: var(--color-acento)}


